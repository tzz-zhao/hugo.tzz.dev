<!doctype html><html lang=ja><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="日々の開発メモ、たまにはプライベートのことも。"><meta name=generator content="Hugo 0.98.0"><title>HugoのGoogleアナリティクス設定 | Tzz's Blog</title><link href="/css/main.min.67afebc03440ed5301faa44c1815dd13e44b438168afa46a1b6c1586bba8ee61.css" rel=stylesheet></head><body class="flex flex-col min-h-screen"><main class=flex-grow><div class="container mx-auto mt-2"><a href=https://tzz.dev/><span><span class="fa-stack fa-x"><i class="fa-solid fa-circle fa-stack-2x"></i>
<i class="fa-solid fa-terminal fa-stack-1x fa-inverse"></i></span>
<span class="align-bottom font-bold text-2xl">Tzz's Blog</span></span></a></div><div id=content><article class="prose lg:prose-xl mx-auto"><h2 class=-mb-5>HugoのGoogleアナリティクス設定</h2>この記事を読むのに必要な時間は約1分です。<ul class="flex list-none"></ul><p>HugoはGoogleアナリティクスのV3とV4両方サポートしています、今回はV４を使います。</p><ol><li><p>測定IDの設定</p><p>設定ファイル（config.toml）で測定IDを設定します</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#a6e22e>googleAnalytics</span> = <span style=color:#e6db74>&#39;G-MEASUREMENT_ID&#39;</span> <span style=color:#960050;background-color:#1e0010>(*</span><span style=color:#a6e22e>G-MEASUREMENT_ID</span><span style=color:#960050;background-color:#1e0010>は自分の測定</span><span style=color:#a6e22e>ID</span><span style=color:#960050;background-color:#1e0010>に設定*)</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>テンプレートの設定</p><p>Hugoは下記２つのテンプレートを提供しています。</p><ul><li><p><code>_internal/google_analytics.html</code></p></li><li><p><code>_internal/google_analytics_async.html</code></p></li></ul><p>V4の場合は　<code>_internal/google_analytics.html</code> を使いましょう</p><p><code>layouts/partials/footer.html</code> に下記追加</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span>{{ <span style=color:#a6e22e>template</span> <span style=color:#e6db74>&#34;_internal/google_analytics.html&#34;</span> . }}
</span></span></code></pre></td></tr></table></div></div></li></ol><p>以上でGoogleアナリティクスの設定が完了しました、結果を確認しましょう。</p></article></div><div id=back-to-top class="container sticky bottom-0 hidden"><a href=# class=text-right><div class=flex-col><i class="fa-solid fa-angles-up text-3xl pr-10"></i><div>上へ戻る<span class=-rotate-45>🚀</span></div></div></a></div></main><footer class="border-t py-2"><div class=text-center>&copy; 2022 tzz.dev</div><script type=text/javascript src=/js/main.js defer></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YTV79RC16K"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-YTV79RC16K",{anonymize_ip:!1})}</script></footer></body></html>